import{d as R,r as _,m as w,c as p,a as e,b as a,u as z,s as W,e as u,w as o,F as V,f as G,o as r,l as D,t as i,g as c,v as X,p as Y,n as Z,_ as ee}from"./index-kxaFLv-e.js";import{g as F}from"./guides-6-azaf-S.js";const te={class:"care-guides"},ae={class:"search-section"},se={class:"category-tabs"},le={class:"main-content"},oe={class:"guides-list"},ne={class:"guide-header"},ie={class:"guide-summary"},ue={class:"guide-meta"},re={class:"author-info"},ce={class:"guide-stats"},de={class:"guide-footer"},_e={class:"pagination"},pe={class:"sidebar"},ve={class:"popular-list"},me=["onClick"],ge={class:"title"},he={class:"views"},fe={key:0,class:"guide-detail"},ye={class:"guide-header"},Ce={class:"guide-meta"},be={class:"author-info"},ke={class:"date"},we=["innerHTML"],ze={class:"guide-tags"},Ve={class:"guide-actions"},Ge=R({__name:"CareGuides",setup(Se){const v=_("all"),g=_(""),m=_(1),f=_(10),y=_(!1),n=_(null),S=w(()=>F.filter(l=>{const s=l.title.toLowerCase().includes(g.value.toLowerCase())||l.summary.toLowerCase().includes(g.value.toLowerCase()),C=v.value==="all"||l.category===v.value;return s&&C})),H=w(()=>S.value.length),M=w(()=>[...F].sort((l,s)=>s.views-l.views).slice(0,5)),x=l=>({watering:"primary",lighting:"success",soil:"warning",fertilizer:"info",pest:"danger"})[l]||"info",L=l=>({watering:"浇水技巧",lighting:"光照管理",soil:"土壤养护",fertilizer:"施肥方法",pest:"病虫害防治"})[l]||"其他",P=l=>{v.value=l,m.value=1},T=l=>{n.value=l,y.value=!0},$=l=>{f.value=l,m.value=1},E=l=>{m.value=l},I=()=>{n.value&&n.value.likes++},Q=()=>{};return(l,s)=>{var N;const C=u("el-input"),d=u("el-tab-pane"),j=u("el-tabs"),b=u("el-tag"),U=u("el-avatar"),h=u("el-icon"),k=u("el-button"),B=u("el-card"),q=u("el-pagination"),A=u("Thumb"),J=u("Share"),K=u("el-dialog");return r(),p("div",te,[e("div",ae,[a(C,{modelValue:g.value,"onUpdate:modelValue":s[0]||(s[0]=t=>g.value=t),placeholder:"搜索养护指南...",class:"search-input","prefix-icon":z(W)},null,8,["modelValue","prefix-icon"]),e("div",se,[a(j,{modelValue:v.value,"onUpdate:modelValue":s[1]||(s[1]=t=>v.value=t),onTabClick:P},{default:o(()=>[a(d,{label:"全部",name:"all"}),a(d,{label:"浇水技巧",name:"watering"}),a(d,{label:"光照管理",name:"lighting"}),a(d,{label:"土壤养护",name:"soil"}),a(d,{label:"施肥方法",name:"fertilizer"}),a(d,{label:"病虫害防治",name:"pest"})]),_:1},8,["modelValue"])])]),e("div",le,[e("div",oe,[(r(!0),p(V,null,G(S.value,t=>(r(),D(B,{key:t.id,class:"guide-card"},{default:o(()=>[e("div",ne,[e("h3",null,i(t.title),1),a(b,{type:x(t.category),size:"small"},{default:o(()=>[c(i(L(t.category)),1)]),_:2},1032,["type"])]),e("p",ie,i(t.summary),1),e("div",ue,[e("div",re,[a(U,{size:24,src:t.author.avatar},null,8,["src"]),e("span",null,i(t.author.name),1)]),e("div",ce,[e("span",null,[a(h,null,{default:o(()=>[a(z(X))]),_:1}),c(" "+i(t.views),1)]),e("span",null,[a(h,null,{default:o(()=>[a(z(Y))]),_:1}),c(" "+i(t.likes),1)])])]),e("div",de,[a(k,{type:"primary",onClick:O=>T(t)},{default:o(()=>s[5]||(s[5]=[c("查看详情")])),_:2,__:[5]},1032,["onClick"])])]),_:2},1024))),128)),e("div",_e,[a(q,{"current-page":m.value,"onUpdate:currentPage":s[2]||(s[2]=t=>m.value=t),"page-size":f.value,"onUpdate:pageSize":s[3]||(s[3]=t=>f.value=t),"page-sizes":[10,20,30,50],total:H.value,layout:"total, sizes, prev, pager, next",onSizeChange:$,onCurrentChange:E},null,8,["current-page","page-size","total"])])]),e("div",pe,[a(B,{class:"popular-guides"},{header:o(()=>s[6]||(s[6]=[e("div",{class:"card-header"},[e("span",null,"热门指南")],-1)])),default:o(()=>[e("ul",ve,[(r(!0),p(V,null,G(M.value,t=>(r(),p("li",{key:t.id,onClick:O=>T(t)},[e("span",ge,i(t.title),1),e("span",he,i(t.views)+" 阅读",1)],8,me))),128))])]),_:1})])]),a(K,{modelValue:y.value,"onUpdate:modelValue":s[4]||(s[4]=t=>y.value=t),title:(N=n.value)==null?void 0:N.title,width:"70%",class:"guide-dialog"},{default:o(()=>[n.value?(r(),p("div",fe,[e("div",ye,[a(b,{type:x(n.value.category),size:"small"},{default:o(()=>[c(i(L(n.value.category)),1)]),_:1},8,["type"]),e("div",Ce,[e("div",be,[a(U,{size:32,src:n.value.author.avatar},null,8,["src"]),e("span",null,i(n.value.author.name),1)]),e("div",ke,i(n.value.date),1)])]),e("div",{class:"guide-content",innerHTML:n.value.content},null,8,we),e("div",ze,[(r(!0),p(V,null,G(n.value.tags,t=>(r(),D(b,{key:t,size:"small",class:"tag"},{default:o(()=>[c(i(t),1)]),_:2},1024))),128))]),e("div",Ve,[a(k,{type:"primary",onClick:I},{default:o(()=>[a(h,null,{default:o(()=>[a(A)]),_:1}),c(" 点赞 ("+i(n.value.likes)+") ",1)]),_:1}),a(k,{onClick:Q},{default:o(()=>[a(h,null,{default:o(()=>[a(J)]),_:1}),s[7]||(s[7]=c(" 分享 "))]),_:1,__:[7]})])])):Z("",!0)]),_:1},8,["modelValue","title"])])}}}),Te=ee(Ge,[["__scopeId","data-v-47f4ea0b"]]);export{Te as default};
